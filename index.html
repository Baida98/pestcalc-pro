<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>PestCalc Pro</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <h1>PestCalc Pro</h1>
  </header>
  <main>
    <section id="main-menu" class="main-menu">
      <button onclick="showSection('dilution-calc')">Diluizione</button>
      <button onclick="showSection('saturation-calc')">Saturazione</button>
      <button onclick="showSection('fumigation-calc')">Fumigazione</button>
      <button onclick="showSection('products-section')">Prodotti</button>
      <button onclick="showSection('history-section')">Storico</button>
    </section>

    <!-- DILUIZIONE -->
    <section id="dilution-calc" class="calculator-section">
      <h2>Diluizione</h2>
      <label>Prodotto:</label>
      <select id="product-select"></select>
      <label>Percentuale finale (%)</label>
      <input type="number" id="dilution-percentage" min="0.01" max="10" step="0.01" />
      <label>Volume soluzione</label>
      <input type="number" id="solution-volume" min="0.01" />
      <select id="volume-unit"><option value="L">Litri</option><option value="ml">Millilitri</option></select>
      <button id="dilution-calc-btn" onclick="calculateDilution()">Calcola</button>
      <div id="dilution-result"></div>
      <button onclick="showSection('main-menu')">Indietro</button>
    </section>

    <!-- SATURAZIONE -->
    <section id="saturation-calc" class="calculator-section">
      <h2>Saturazione</h2>
      <label>Prodotto:</label>
      <select id="saturation-product"></select>
      <label>Superficie (m²)</label>
      <input type="number" id="room-area" min="0.01" />
      <label>Altezza (m)</label>
      <input type="number" id="room-height" min="0.01" />
      <label>Dosaggio (ml/m³):</label>
      <input type="number" id="manual-saturation-dose" min="0.01" step="0.01" value="15"/>
      <span id="saturation-volume-display">0 m³</span>
      <button id="saturation-calc-btn" onclick="calculateSaturation()">Calcola</button>
      <div id="saturation-result"></div>
      <button onclick="showSection('main-menu')">Indietro</button>
    </section>

    <!-- FUMIGAZIONE -->
    <section id="fumigation-calc" class="calculator-section">
      <h2>Fumigazione</h2>
      <label>Tipo:</label>
      <select id="fumigation-type">
        <option value="volume">Per volume</option>
        <option value="weight">Per peso prodotto</option>
      </select><br>
      <div id="volume-inputs">
        <label>Superficie (m²)</label>
        <input type="number" id="fum-area" min="0.01" />
        <label>Altezza (m)</label>
        <input type="number" id="fum-height" min="0.01" />
      </div>
      <div id="weight-inputs" style="display:none;">
        <label>Peso (tonn)</label>
        <input type="number" id="product-weight" min="0.01" />
      </div>
      <label>Fumigante:</label>
      <select id="fumigant"></select>
      <label>Dosaggio (g/m³):</label>
      <input type="number" id="manual-fumigant-dose" min="0.01" step="0.01" value="2" />
      <label>Tempo esposizione (h):</label>
      <input type="number" id="exposure-time" min="1" value="48" />
      <button id="fumigation-calc-btn" onclick="calculateFumigation()">Calcola</button>
      <div id="fumigation-result"></div>
      <button onclick="showSection('main-menu')">Indietro</button>
    </section>

    <!-- GESTIONE PRODOTTI -->
    <section id="products-section" class="calculator-section">
      <h2>Prodotti</h2>
      <input id="new-product-name" placeholder="Nome" />
      <input id="new-product-dilution" placeholder="Diluizione (%)" type="number" min="0.01" />
      <input id="new-product-saturation-dose" placeholder="Saturazione (ml/m³)" type="number" min="0.01" />
      <input id="new-product-fumigant-dose" placeholder="Fumigazione (g/m³)" type="number" min="0.01" />
      <input id="new-product-price" placeholder="Prezzo €/L" type="number" min="0" />
      <button onclick="addCustomProduct()">Aggiungi</button>
      <div id="custom-products-list"></div>
      <button onclick="showSection('main-menu')">Indietro</button>
    </section>

    <!-- STORICO -->
    <section id="history-section" class="calculator-section">
      <h2>Storico</h2>
      <button onclick="clearHistory()">Svuota storico</button>
      <div id="history-list"></div>
      <button onclick="showSection('main-menu')">Indietro</button>
    </section>
  </main>
  <script src="script.js"></script>
</body>
</html>
